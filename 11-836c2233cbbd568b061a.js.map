{"version":3,"sources":["webpack:///./node_modules/gl-mat4/identity.js","webpack:///./node_modules/gl-mat4/lookAt.js","webpack:///./src/components/LogoAnimation/index.js","webpack:///./node_modules/@metamask/logo/index.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/gl-mat4/multiply.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/gl-mat4/perspective.js","webpack:///./node_modules/@metamask/logo/util.js","webpack:///./node_modules/gl-mat4/invert.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/gl-mat4/rotate.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/gl-vec3/transformMat4.js"],"names":["module","exports","out","identity","eye","center","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","len","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","Math","abs","sqrt","LogoAnimation","props","logoType","React","useEffect","window","document","meshJson","ModelViewer","require","viewer","pxNotRatio","width","height","followMouse","getElementById","appendChild","container","id","foxJson","_require","calculateSizingOptions","createLogoViewer","loadModelFromJson","createModelRenderer","createNode","setAttribute","setGradientDefinitions","setMaskDefinitions","options","arguments","length","undefined","cameraDistance","_calculateSizingOptio","concat","body","gradients","masks","modelObj","renderFox","renderScene","lookCurrent","slowDrift","rect","getBoundingClientRect","Object","assign","TypeError","iter","Symbol","iterator","Array","from","a","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","arrayLikeToArray","arr","isArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","i","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr2","o","minLen","n","prototype","toString","call","slice","constructor","name","test","fovy","aspect","near","far","f","tan","nf","_slicedToArray","_toConsumableArray","_createForOfIteratorHelper","allowArrayLike","it","_arrayLikeToArray","_unsupportedIterableToArray","F","s","done","value","e","_e","err","normalCompletion","didErr","step","next","_e2","return","perspective","multiply","lookAt","invert","rotate","transform","SVG_NS","positionsFromModel","positions","modelJson","pp","ptr","p","j","createPolygonsFromModelJson","createSvgPolygon","polygons","polygonsByChunk","chunks","map","chunk","index","faces","face","polygon","Polygon","push","createStandardModelPolygon","_ref2","_ref2$gradients","svgPolygon","gradient","color","Error","gradientId","fill","mask","createMatrixComputer","distance","objectCenter","Float32Array","projection","model","view","invView","invProjection","target","transformedMatrix","X","Y","Z","lookPos","viewportWidth","viewportHeight","PI","time","Date","now","sin","createPositionUpdater","transformed","vertCount","M","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","x","y","z","tw","compareZ","zIndex","createFaceUpdater","toDraw","w","h","poly","indices","i0","i1","i2","ax","ay","bx","by","cx","points","zmax","Infinity","zmin","element","svg","idx","max","min","joinedPoints","join","indexOf","sort","newPolygons","defs","getElementsByTagName","maskChildren","replaceChildren","apply","type","createElementNS","node","attribute","setAttributeNS","this","floor","innerWidth","innerHeight","minWidth","_ref","_ref$followMouse","_ref$followMotion","followMotion","_ref$slowDrift","_ref$lazyRender","lazyRender","shouldRender","mouse","lookRate","renderCurrentScene","updateLookCurrent","setLookAtTarget","bounds","left","top","stopAnimation","startAnimation","setFollowMouse","state","setFollowMotion","lookAtAndRender","renderLoop","requestAnimationFrame","li","addEventListener","ev","clientX","clientY","event","gamma","beta","_step","updatePositions","_iterator","computeMatrix","updateFaces","matrix","_createPolygonsFromMo","keys","defsContainer","linearCoordinateAttributes","radialCoordinateAttributes","commonAttributes","allLinearAttributes","allRadialAttributes","_loop","_Object$entries$_i","_Object$entries","_i","gradientDefinition","unsupportedLinearAttribute","find","includes","some","attributeName","missingAttributes","filter","_step2","_iterator2","presentCoordinateAttributes","unsupportedRadialAttribute","_step3","_iterator3","_attribute","gradientUnits","gradientTransform","spreadMethod","stops","_step4","_iterator4","stopDefinition","stop","offset","entries","_ref3","_i2","_Object$entries2","_Object$entries2$_i","maskId","maskDefinition","maskedRect","svgElementToSvgImageContent","svgElement","inner","innerHTML","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","_arr","_n","_d","_s","rad","axis","c","t","b12","b20","b21","b22","cos","m"],"mappings":"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","file":"11-836c2233cbbd568b061a.js","sourcesContent":["module.exports = identity;\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n;","var identity = require('./identity');\n\nmodule.exports = lookAt;\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0,\n      x1,\n      x2,\n      y0,\n      y1,\n      y2,\n      z0,\n      z1,\n      z2,\n      len,\n      eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2],\n      centerx = center[0],\n      centery = center[1],\n      centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < 0.000001 && Math.abs(eyey - centery) < 0.000001 && Math.abs(eyez - centerz) < 0.000001) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n\n;","import React from 'react'\nconst LogoAnimation = props => {\n  const { logoType } = props\n  React.useEffect(() => {\n    // This runs the script logo\n    if (typeof window !== 'undefined' && window.document) {\n      var ModelViewer = require('@metamask/logo')\n      let meshJson\n      switch (logoType) {\n        case 'flask':\n          meshJson = require('./flask.json')\n          break\n        default:\n        // code block\n      }\n      var viewer = ModelViewer({\n        pxNotRatio: true,\n        width: 230,\n        height: 230,\n        followMouse: true,\n        meshJson,\n      })\n\n      var container = document.getElementById('logo-container')\n      container.appendChild(viewer.container)\n    }\n  }, [logoType])\n  return <div id=\"logo-container\"></div>\n}\n\nexport default LogoAnimation\n","var foxJson = require('./fox.json');\n\nvar _require = require('./util'),\n    calculateSizingOptions = _require.calculateSizingOptions,\n    createLogoViewer = _require.createLogoViewer,\n    loadModelFromJson = _require.loadModelFromJson,\n    createModelRenderer = _require.createModelRenderer,\n    createNode = _require.createNode,\n    setAttribute = _require.setAttribute,\n    setGradientDefinitions = _require.setGradientDefinitions,\n    setMaskDefinitions = _require.setMaskDefinitions;\n\nmodule.exports = createLogo;\n\nfunction createLogo() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var cameraDistance = options.cameraDistance || 400;\n\n  var _calculateSizingOptio = calculateSizingOptions(options),\n      height = _calculateSizingOptio.height,\n      width = _calculateSizingOptio.width;\n\n  var meshJson = options.meshJson || foxJson;\n  var container = createNode('svg');\n  setAttribute(container, 'width', \"\".concat(width, \"px\"));\n  setAttribute(container, 'height', \"\".concat(height, \"px\"));\n  document.body.appendChild(container);\n  setGradientDefinitions(container, meshJson.gradients);\n  setMaskDefinitions({\n    container: container,\n    masks: meshJson.masks,\n    height: height,\n    width: width\n  });\n  var modelObj = loadModelFromJson(meshJson);\n  var renderFox = createModelRenderer(container, cameraDistance, modelObj);\n\n  var renderScene = function renderScene(lookCurrent, slowDrift) {\n    var rect = container.getBoundingClientRect();\n    renderFox(rect, lookCurrent, slowDrift);\n  };\n\n  return createLogoViewer(container, renderScene, Object.assign({\n    cameraDistance: cameraDistance\n  }, options));\n}","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","module.exports = multiply;\n/**\n * Multiplies two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n\n;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","module.exports = perspective;\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf = 1 / (near - far);\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 2 * far * near * nf;\n  out[15] = 0;\n  return out;\n}\n\n;","var _slicedToArray = require(\"/home/runner/work/website/website/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/home/runner/work/website/website/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar perspective = require('gl-mat4/perspective');\n\nvar multiply = require('gl-mat4/multiply');\n\nvar lookAt = require('gl-mat4/lookAt');\n\nvar invert = require('gl-mat4/invert');\n\nvar rotate = require('gl-mat4/rotate');\n\nvar transform = require('gl-vec3/transformMat4');\n\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nmodule.exports = {\n  calculateSizingOptions: calculateSizingOptions,\n  createLogoViewer: createLogoViewer,\n  createModelRenderer: createModelRenderer,\n  loadModelFromJson: loadModelFromJson,\n  positionsFromModel: positionsFromModel,\n  createPolygonsFromModelJson: createPolygonsFromModelJson,\n  createStandardModelPolygon: createStandardModelPolygon,\n  createMatrixComputer: createMatrixComputer,\n  compareZ: compareZ,\n  createFaceUpdater: createFaceUpdater,\n  createNode: createNode,\n  setAttribute: setAttribute,\n  setGradientDefinitions: setGradientDefinitions,\n  setMaskDefinitions: setMaskDefinitions,\n  svgElementToSvgImageContent: svgElementToSvgImageContent,\n  Polygon: Polygon\n};\n/**\n * A distance measurement used for SVG attributes. A length is specified as a number followed by a\n * unit identifier.\n *\n * See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length} for further\n * information.\n *\n * @typedef {`${number}${'em' | 'ex' | 'px' | 'in' | 'cm' | 'mm' | 'pt' | 'pc' | '%'}`} SvgLength\n */\n\n/**\n * A definition for a `<stop>` SVG element, which defines a color and the position for that color\n * on a gradient. This element is always a child of either a `<linearGradient>` or\n * `<radialGradient>` element.\n *\n * See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop} for more information\n * about the `<stop>` element.\n *\n * @typedef {object} StopDefinition\n * @property {number | `${number}%`} [offset] - The location of the gradient stop along the\n * gradient vector.\n * @property {string} [stop-color] - The color of the gradient stop. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop}.\n * @property {number} [stop-opacity] - The opacity of the gradient stop. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stop-opacity}.\n */\n\n/**\n * A definition for a `<linearGradient>` SVG element. This definition includes all supported\n * `<linearGradient>` attributes, and it includes a `stops` property which is an array of\n * definitions for each `<stop>` child node.\n *\n * See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient} for more\n * information about the `<linearGradient>` element.\n *\n * @typedef {object} LinearGradientDefinition\n * @property {string} [gradientTransform] - A transform from the gradient coordinate system to the\n * target coordinate system. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/gradientTransform}.\n * @property {'userSpaceOnUse' | 'objectBoundingBox'} [gradientUnits] - The coordinate system used.\n * for the coordinate attributes. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/gradientUnits}.\n * @property {'pad' | 'reflect' | 'repeat'} [spreadMethod] - The method used to fill a shape beyond\n * the defined edges of a gradient. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/spreadMethod}.\n * @property {StopDefinition[]} [stops] - The colors of the gradient, and the position of each\n * color along the gradient vector.\n * @property {'linear'} type - The type of the gradient.\n * @property {SvgLength} [x1] - The x coordinate of the starting point of the vector gradient.\n * @property {SvgLength} [x2] - The x coordinate of the ending point of the vector gradient.\n * @property {SvgLength} [y1] - The y coordinate of the starting point of the vector gradient.\n * @property {SvgLength} [y2] - The y coordinate of the ending point of the vector gradient.\n */\n\n/**\n * A definition for a `<radialGradient>` SVG element. This definition includes all supported\n * `<radialGradient>` attributes, and it includes a `stops` property which is an array of\n * definitions for each `<stop>` child node.\n *\n * See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient} for more\n * information about the `<radialGradient>` element.\n *\n * @typedef {object} RadialGradientDefinition\n * @property {SvgLength} [cx] - The x coordinate of the end circle of the radial gradiant.\n * @property {SvgLength} [cy] - The y coordinate of the end circle of the radial gradient.\n * @property {SvgLength} [fr] - The radius of the start circle of the radial gradient.\n * @property {SvgLength} [fx] - The x coordinate of the start circle of the radial gradient.\n * @property {SvgLength} [fy] - The y coordinate of the start circle of the radial gradient.\n * @property {string} [gradientTransform] - A transform from the gradient coordinate system to the\n * target coordinate system. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/gradientTransform}.\n * @property {'userSpaceOnUse' | 'objectBoundingBox'} [gradientUnits] - The coordinate system used\n * for the coordinate attributes. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/gradientUnits}.\n * @property {SvgLength} [r] - The radius of the end circle of the radial gradient.\n * @property {'pad' | 'reflect' | 'repeat'} [spreadMethod] - The method used to fill a shape beyond\n * the defined edges of a gradient. See {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/spreadMethod}.\n * @property {StopDefinition[]} [stops] - The colors of the gradient, and the position of each\n * color along the gradient vector.\n * @property {'radial'} type - The type of the gradient.\n */\n\nfunction createLogoViewer(container, renderScene) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$followMouse = _ref.followMouse,\n      followMouse = _ref$followMouse === void 0 ? false : _ref$followMouse,\n      _ref$followMotion = _ref.followMotion,\n      followMotion = _ref$followMotion === void 0 ? false : _ref$followMotion,\n      _ref$slowDrift = _ref.slowDrift,\n      slowDrift = _ref$slowDrift === void 0 ? false : _ref$slowDrift,\n      _ref$lazyRender = _ref.lazyRender,\n      lazyRender = _ref$lazyRender === void 0 ? true : _ref$lazyRender;\n\n  var shouldRender = true;\n  var mouse = {\n    x: 0,\n    y: 0\n  };\n  var lookCurrent = [0, 0];\n  var lookRate = 0.3; // closes over scene state\n\n  var renderCurrentScene = function renderCurrentScene() {\n    updateLookCurrent();\n    renderScene(lookCurrent, slowDrift);\n  };\n\n  function setLookAtTarget(target) {\n    var bounds = container.getBoundingClientRect();\n    mouse.x = 1.0 - 2.0 * (target.x - bounds.left) / bounds.width;\n    mouse.y = 1.0 - 2.0 * (target.y - bounds.top) / bounds.height;\n  }\n\n  function stopAnimation() {\n    shouldRender = false;\n  }\n\n  function startAnimation() {\n    shouldRender = true;\n  }\n\n  function setFollowMouse(state) {\n    // eslint-disable-next-line no-param-reassign\n    followMouse = state;\n  }\n\n  function setFollowMotion(state) {\n    // eslint-disable-next-line no-param-reassign\n    followMotion = state;\n  }\n\n  window.addEventListener('mousemove', function (ev) {\n    if (!shouldRender) {\n      startAnimation();\n    }\n\n    if (followMouse) {\n      setLookAtTarget({\n        x: ev.clientX,\n        y: ev.clientY\n      });\n      renderCurrentScene();\n    }\n  });\n  window.addEventListener('deviceorientation', function (event) {\n    if (!shouldRender) {\n      startAnimation();\n    }\n\n    if (followMotion) {\n      // gamma: left to right\n      var leftToRight = event.gamma; // beta: front back motion\n\n      var frontToBack = event.beta; // x offset: needed to correct the intial position\n\n      var xOffset = 200; // y offset: needed to correct the intial position\n\n      var yOffset = -300; // acceleration\n\n      var acceleration = 10;\n      setLookAtTarget({\n        x: xOffset + leftToRight * acceleration,\n        y: yOffset + frontToBack * acceleration\n      });\n      renderCurrentScene();\n    }\n  });\n\n  function lookAtAndRender(target) {\n    // update look target\n    setLookAtTarget(target); // this should prolly just call updateLookCurrent or set lookCurrent values to eaxactly lookTarget\n    // but im not really sure why its different, so im leaving it alone\n\n    lookCurrent[0] = mouse.x;\n    lookCurrent[1] = mouse.y + 0.085 / lookRate;\n    renderCurrentScene();\n  }\n\n  function renderLoop() {\n    if (!shouldRender) {\n      return;\n    }\n\n    window.requestAnimationFrame(renderLoop);\n    renderCurrentScene();\n  }\n\n  function updateLookCurrent() {\n    var li = 1.0 - lookRate;\n    lookCurrent[0] = li * lookCurrent[0] + lookRate * mouse.x;\n    lookCurrent[1] = li * lookCurrent[1] + lookRate * mouse.y + 0.085;\n  }\n\n  if (lazyRender) {\n    renderCurrentScene();\n  } else {\n    renderLoop();\n  }\n\n  return {\n    container: container,\n    lookAt: setLookAtTarget,\n    setFollowMouse: setFollowMouse,\n    setFollowMotion: setFollowMotion,\n    stopAnimation: stopAnimation,\n    startAnimation: startAnimation,\n    lookAtAndRender: lookAtAndRender,\n    renderCurrentScene: renderCurrentScene\n  };\n}\n\nfunction loadModelFromJson(modelJson) {\n  var createSvgPolygon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createStandardModelPolygon;\n  var vertCount = modelJson.positions.length;\n  var positions = new Float32Array(3 * vertCount);\n  var transformed = new Float32Array(3 * vertCount);\n\n  var _createPolygonsFromMo = createPolygonsFromModelJson(modelJson, createSvgPolygon),\n      polygons = _createPolygonsFromMo.polygons,\n      polygonsByChunk = _createPolygonsFromMo.polygonsByChunk;\n\n  positionsFromModel(positions, modelJson);\n  var updatePositions = createPositionUpdater(positions, transformed, vertCount);\n  var modelObj = {\n    updatePositions: updatePositions,\n    positions: positions,\n    transformed: transformed,\n    polygons: polygons,\n    polygonsByChunk: polygonsByChunk\n  };\n  return modelObj;\n}\n\nfunction createModelRenderer(container, cameraDistance, modelObj) {\n  var updatePositions = modelObj.updatePositions,\n      transformed = modelObj.transformed,\n      polygons = modelObj.polygons;\n\n  var _iterator = _createForOfIteratorHelper(polygons),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var polygon = _step.value;\n      container.appendChild(polygon.svg);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var computeMatrix = createMatrixComputer(cameraDistance);\n  var updateFaces = createFaceUpdater(container, polygons, transformed);\n  return function (rect, lookPos, slowDrift) {\n    var matrix = computeMatrix(rect, lookPos, slowDrift);\n    updatePositions(matrix);\n    updateFaces(rect, container, polygons, transformed);\n  };\n}\n\nfunction positionsFromModel(positions, modelJson) {\n  var pp = modelJson.positions;\n  var ptr = 0;\n\n  for (var i = 0; i < pp.length; ++i) {\n    var p = pp[i];\n\n    for (var j = 0; j < 3; ++j) {\n      positions[ptr] = p[j];\n      ptr += 1;\n    }\n  }\n}\n\nfunction createPolygonsFromModelJson(modelJson, createSvgPolygon) {\n  var polygons = [];\n  var polygonsByChunk = modelJson.chunks.map(function (chunk, index) {\n    var faces = chunk.faces;\n    return faces.map(function (face) {\n      var svgPolygon = createSvgPolygon(chunk, {\n        gradients: modelJson.gradients,\n        index: index,\n        masks: modelJson.masks\n      });\n      var polygon = new Polygon(svgPolygon, face);\n      polygons.push(polygon);\n      return polygon;\n    });\n  });\n  return {\n    polygons: polygons,\n    polygonsByChunk: polygonsByChunk\n  };\n}\n/**\n * Create an SVG `<polygon> element.\n *\n * This polygon is assigned the correct `fill` and `stroke` attributes, according to the chunk\n * definition provided. But the `points` attribute is always set to a dummy value, as it gets reset\n * later to the correct position during each render loop.\n *\n * @param {object} chunk - The definition for the chunk of the model this polygon is a part of.\n * This includes the color or gradient to apply to the polygon.\n * @param {object} options - Polygon options.\n * @param {(LinearGradientDefinition | RadialGradientDefinition)[]} [options.gradients] - The set of\n * all gradient definitions used in this model.\n * @param options.index - The index for the chunk this polygon is found in.\n * @returns {Element} The `<polygon>` SVG element.\n */\n\n\nfunction createStandardModelPolygon(chunk, _ref2) {\n  var _ref2$gradients = _ref2.gradients,\n      gradients = _ref2$gradients === void 0 ? {} : _ref2$gradients,\n      index = _ref2.index,\n      masks = _ref2.masks;\n  var svgPolygon = createNode('polygon');\n\n  if (chunk.gradient && chunk.color) {\n    throw new Error(\"Both gradient and color for chunk '\".concat(index, \"'. These options are mutually exclusive.\"));\n  } else if (chunk.gradient) {\n    var gradientId = chunk.gradient;\n\n    if (!gradients[gradientId]) {\n      throw new Error(\"Gradient ID not found: '\".concat(gradientId, \"'\"));\n    }\n\n    setAttribute(svgPolygon, 'fill', \"url('#\".concat(gradientId, \"')\"));\n    setAttribute(svgPolygon, 'stroke', \"url('#\".concat(gradientId, \"')\"));\n  } else {\n    var fill = typeof chunk.color === 'string' ? chunk.color : \"rgb(\".concat(chunk.color, \")\");\n    setAttribute(svgPolygon, 'fill', fill);\n    setAttribute(svgPolygon, 'stroke', fill);\n  }\n\n  if (chunk.mask) {\n    if (!masks[chunk.mask]) {\n      throw new Error(\"Mask ID not found: '\".concat(chunk.mask, \"'\"));\n    }\n\n    setAttribute(svgPolygon, 'mask', \"url('#\".concat(chunk.mask, \"')\"));\n  }\n\n  setAttribute(svgPolygon, 'points', '0,0, 10,0, 0,10');\n  return svgPolygon;\n}\n\nfunction createMatrixComputer(distance) {\n  var objectCenter = new Float32Array(3);\n  var up = new Float32Array([0, 1, 0]);\n  var projection = new Float32Array(16);\n  var model = new Float32Array(16);\n  var view = lookAt(new Float32Array(16), new Float32Array([0, 0, distance]), objectCenter, up);\n  var invView = invert(new Float32Array(16), view);\n  var invProjection = new Float32Array(16);\n  var target = new Float32Array(3);\n  var transformedMatrix = new Float32Array(16);\n  var X = new Float32Array([1, 0, 0]);\n  var Y = new Float32Array([0, 1, 0]);\n  var Z = new Float32Array([0, 0, 1]);\n  return function (rect, lookPos, slowDrift) {\n    var viewportWidth = rect.width;\n    var viewportHeight = rect.height;\n    perspective(projection, Math.PI / 4.0, viewportWidth / viewportHeight, 100.0, 1000.0);\n    invert(invProjection, projection);\n    target[0] = lookPos[0];\n    target[1] = lookPos[1];\n    target[2] = 1.2;\n    transform(target, target, invProjection);\n    transform(target, target, invView);\n    lookAt(model, objectCenter, target, up); // this shouldnt operate directly on the matrix/model,\n    // it should likely operate on the lookPos\n    // if we do want to operate on the matrix/model, it shouldnt happen here\n\n    if (slowDrift) {\n      var time = Date.now() / 1000.0;\n      rotate(model, model, 0.1 + Math.sin(time / 3) * 0.2, X);\n      rotate(model, model, -0.1 + Math.sin(time / 2) * 0.03, Z);\n      rotate(model, model, 0.5 + Math.sin(time / 3) * 0.2, Y);\n    }\n\n    multiply(transformedMatrix, projection, view);\n    multiply(transformedMatrix, transformedMatrix, model);\n    return transformedMatrix;\n  };\n}\n\nfunction createPositionUpdater(positions, transformed, vertCount) {\n  return function (M) {\n    var m00 = M[0];\n    var m01 = M[1];\n    var m02 = M[2];\n    var m03 = M[3];\n    var m10 = M[4];\n    var m11 = M[5];\n    var m12 = M[6];\n    var m13 = M[7];\n    var m20 = M[8];\n    var m21 = M[9];\n    var m22 = M[10];\n    var m23 = M[11];\n    var m30 = M[12];\n    var m31 = M[13];\n    var m32 = M[14];\n    var m33 = M[15];\n\n    for (var i = 0; i < vertCount; ++i) {\n      var x = positions[3 * i];\n      var y = positions[3 * i + 1];\n      var z = positions[3 * i + 2];\n      var tw = x * m03 + y * m13 + z * m23 + m33;\n      transformed[3 * i] = (x * m00 + y * m10 + z * m20 + m30) / tw;\n      transformed[3 * i + 1] = (x * m01 + y * m11 + z * m21 + m31) / tw;\n      transformed[3 * i + 2] = (x * m02 + y * m12 + z * m22 + m32) / tw;\n    }\n  };\n}\n\nfunction compareZ(a, b) {\n  return b.zIndex - a.zIndex;\n}\n\nfunction createFaceUpdater(container, polygons, transformed) {\n  var toDraw = [];\n  return function (rect) {\n    var i;\n    var w = rect.width;\n    var h = rect.height;\n    toDraw.length = 0;\n\n    for (i = 0; i < polygons.length; ++i) {\n      var poly = polygons[i];\n      var indices = poly.indices;\n      var i0 = indices[0];\n      var i1 = indices[1];\n      var i2 = indices[2];\n      var ax = transformed[3 * i0];\n      var ay = transformed[3 * i0 + 1];\n      var bx = transformed[3 * i1];\n      var by = transformed[3 * i1 + 1];\n      var cx = transformed[3 * i2];\n      var cy = transformed[3 * i2 + 1];\n      var det = (bx - ax) * (cy - ay) - (by - ay) * (cx - ax);\n\n      if (det < 0) {\n        continue;\n      }\n\n      var points = [];\n      var zmax = -Infinity;\n      var zmin = Infinity;\n      var element = poly.svg;\n\n      for (var j = 0; j < 3; ++j) {\n        var idx = indices[j];\n        points.push(\"\".concat(0.5 * w * (1.0 - transformed[3 * idx]), \",\").concat(0.5 * h * (1.0 - transformed[3 * idx + 1])));\n        var z = transformed[3 * idx + 2];\n        zmax = Math.max(zmax, z);\n        zmin = Math.min(zmin, z);\n      }\n\n      poly.zIndex = zmax + 0.25 * zmin;\n      var joinedPoints = points.join(' ');\n\n      if (joinedPoints.indexOf('NaN') === -1) {\n        setAttribute(element, 'points', joinedPoints);\n      }\n\n      toDraw.push(poly);\n    }\n\n    toDraw.sort(compareZ);\n    var newPolygons = toDraw.map(function (poly) {\n      return poly.svg;\n    });\n    var defs = container.getElementsByTagName('defs');\n    var maskChildren = container.getElementsByTagName('mask');\n    container.replaceChildren.apply(container, _toConsumableArray(defs).concat(_toConsumableArray(maskChildren), _toConsumableArray(newPolygons)));\n  };\n}\n\nfunction calculateSizingOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var width = options.width || 400;\n  var height = options.height || 400;\n\n  if (!options.pxNotRatio) {\n    width = Math.floor(window.innerWidth * (options.width || 0.25));\n    height = Math.floor(window.innerHeight * options.height || width);\n\n    if ('minWidth' in options && width < options.minWidth) {\n      width = options.minWidth;\n      height = Math.floor(options.minWidth * options.height / options.width);\n    }\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction createNode(type) {\n  return document.createElementNS(SVG_NS, type);\n}\n\nfunction setAttribute(node, attribute, value) {\n  node.setAttributeNS(null, attribute, value);\n}\n\nfunction svgElementToSvgImageContent(svgElement) {\n  var inner = svgElement.innerHTML;\n  var head = \"<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\"> \" + \"<svg width=\\\"521px\\\" height=\\\"521px\\\" version=\\\"1.1\\\" baseProfile=\\\"full\\\" xmlns=\\\"\".concat(SVG_NS, \"\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:ev=\\\"http://www.w3.org/2001/xml-events\\\">\");\n  var foot = '</svg>';\n  var content = head + inner + foot;\n  return content;\n}\n\nfunction Polygon(svg, indices) {\n  this.svg = svg;\n  this.indices = indices;\n  this.zIndex = 0;\n}\n/**\n * Parse gradient definitions and construct them in the DOM.\n *\n * Both `<linearGradient>` and `<radialGradient>` are supported. All gradients get added to a\n * `<defs>` element that is added as a direct child of the container element.\n *\n * @param {Element} container - The `<svg>` HTML element that the definitions should be added to.\n * @param {(LinearGradientDefinition | RadialGradientDefinition)[]} [gradients] - The gradient definitions.\n */\n\n\nfunction setGradientDefinitions(container, gradients) {\n  if (!gradients || Object.keys(gradients).length === 0) {\n    return;\n  }\n\n  var defsContainer = createNode('defs');\n  var linearCoordinateAttributes = ['x1', 'x2', 'y1', 'y2'];\n  var radialCoordinateAttributes = ['cx', 'cy', 'fr', 'fx', 'fy', 'r'];\n  var commonAttributes = ['gradientTransform', 'gradientUnits', 'spreadMethod', 'stops', 'type'];\n  var allLinearAttributes = [].concat(linearCoordinateAttributes, commonAttributes);\n  var allRadialAttributes = [].concat(radialCoordinateAttributes, commonAttributes);\n\n  var _loop = function _loop() {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        gradientId = _Object$entries$_i[0],\n        gradientDefinition = _Object$entries$_i[1];\n\n    var gradient = void 0;\n\n    if (gradientDefinition.type === 'linear') {\n      gradient = createNode('linearGradient');\n      var unsupportedLinearAttribute = Object.keys(gradientDefinition).find(function (attribute) {\n        return !allLinearAttributes.includes(attribute);\n      });\n\n      if (unsupportedLinearAttribute) {\n        throw new Error(\"Unsupported linear gradient attribute: '\".concat(unsupportedLinearAttribute, \"'\"));\n      } else if (linearCoordinateAttributes.some(function (attributeName) {\n        return gradientDefinition[attributeName] !== undefined;\n      })) {\n        var missingAttributes = linearCoordinateAttributes.filter(function (attributeName) {\n          return gradientDefinition[attributeName] === undefined;\n        });\n\n        if (missingAttributes.length > 0) {\n          throw new Error(\"Missing coordinate attributes: '\".concat(missingAttributes.join(', '), \"'\"));\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(linearCoordinateAttributes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var attribute = _step2.value;\n\n            if (typeof gradientDefinition[attribute] !== 'string') {\n              throw new Error(\"Type of '\".concat(attribute, \"' option expected to be 'string'. Instead received type '\").concat(typeof gradientDefinition[attribute], \"'\"));\n            }\n\n            setAttribute(gradient, attribute, gradientDefinition[attribute]);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    } else if (gradientDefinition.type === 'radial') {\n      gradient = createNode('radialGradient');\n      var presentCoordinateAttributes = radialCoordinateAttributes.filter(function (attributeName) {\n        return gradientDefinition[attributeName] !== undefined;\n      });\n      var unsupportedRadialAttribute = Object.keys(gradientDefinition).find(function (attribute) {\n        return !allRadialAttributes.includes(attribute);\n      });\n\n      if (unsupportedRadialAttribute) {\n        throw new Error(\"Unsupported radial gradient attribute: '\".concat(unsupportedRadialAttribute, \"'\"));\n      } else if (presentCoordinateAttributes.length > 0) {\n        var _iterator3 = _createForOfIteratorHelper(presentCoordinateAttributes),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _attribute = _step3.value;\n\n            if (typeof gradientDefinition[_attribute] !== 'string') {\n              throw new Error(\"Type of '\".concat(_attribute, \"' option expected to be 'string'. Instead received type '\").concat(typeof gradientDefinition[_attribute], \"'\"));\n            }\n\n            setAttribute(gradient, _attribute, gradientDefinition[_attribute]);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    } else {\n      throw new Error(\"Unsupported gradient type: '\".concat(gradientDefinition.type, \"'\"));\n    } // Set common attributes\n\n\n    setAttribute(gradient, 'id', gradientId);\n\n    if (gradientDefinition.gradientUnits !== undefined) {\n      if (!['userSpaceOnUse', 'objectBoundingBox'].includes(gradientDefinition.gradientUnits)) {\n        throw new Error(\"Unrecognized value for 'gradientUnits' attribute: '\".concat(gradientDefinition.gradientUnits, \"'\"));\n      }\n\n      setAttribute(gradient, 'gradientUnits', gradientDefinition.gradientUnits);\n    }\n\n    if (gradientDefinition.gradientTransform !== undefined) {\n      if (typeof gradientDefinition.gradientTransform !== 'string') {\n        throw new Error(\"Type of 'gradientTransform' option expected to be 'string'. Instead received type '\".concat(typeof gradientDefinition.gradientTransform, \"'\"));\n      }\n\n      setAttribute(gradient, 'gradientTransform', gradientDefinition.gradientTransform);\n    }\n\n    if (gradientDefinition.spreadMethod !== undefined) {\n      if (!['pad', 'reflect', 'repeat'].includes(gradientDefinition.spreadMethod)) {\n        throw new Error(\"Unrecognized value for 'spreadMethod' attribute: '\".concat(gradientDefinition.spreadMethod, \"'\"));\n      }\n\n      setAttribute(gradient, 'spreadMethod', gradientDefinition.spreadMethod);\n    }\n\n    if (gradientDefinition.stops !== undefined) {\n      if (!Array.isArray(gradientDefinition.stops)) {\n        throw new Error(\"The 'stop' attribute must be an array\");\n      }\n\n      var _iterator4 = _createForOfIteratorHelper(gradientDefinition.stops),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var stopDefinition = _step4.value;\n\n          if (typeof stopDefinition !== 'object') {\n            throw new Error(\"Each entry in the 'stop' attribute must be an object. Instead received type '\".concat(typeof stopDefinition, \"'\"));\n          }\n\n          var stop = createNode('stop');\n\n          if (stopDefinition.offset !== undefined) {\n            setAttribute(stop, 'offset', stopDefinition.offset);\n          }\n\n          if (stopDefinition['stop-color'] !== undefined) {\n            setAttribute(stop, 'stop-color', stopDefinition['stop-color']);\n          }\n\n          if (stopDefinition['stop-opacity'] !== undefined) {\n            setAttribute(stop, 'stop-opacity', stopDefinition['stop-opacity']);\n          }\n\n          gradient.appendChild(stop);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n\n    defsContainer.appendChild(gradient);\n  };\n\n  for (var _i = 0, _Object$entries = Object.entries(gradients); _i < _Object$entries.length; _i++) {\n    _loop();\n  }\n\n  container.appendChild(defsContainer);\n}\n/**\n * The properties of a single SVG mask.\n *\n * @typedef MaskDefinition\n * @property {string} color - The color or gradient to apply to the mask.\n */\n\n/**\n * Parse mask definitions and construct them in the DOM.\n *\n * The `<mask>` element contains a single rectangle that should cover the full extent of the SVG\n * model. The color of this rectangle can be set to single color or a gradient. Anything the mask\n * is applied to will be invisible if under a black pixel, visible if under a white pixel, and\n * partially translucent if under a pixel that is between white and black.\n *\n * Later this could be extended to include custom paths and other shapes, rather than just a single\n * rectangle.\n *\n * @param options - The mask options.\n * @param {Element} options.container - The `<svg>` HTML element that the mask should be added to.\n * @param {Record<string, MaskDefinition>} [options.masks] - The gradient definitions.\n * @param {number} options.height - The height of the SVG container.\n * @param {number} options.width - The width of the SVG container.\n */\n\n\nfunction setMaskDefinitions(_ref3) {\n  var container = _ref3.container,\n      masks = _ref3.masks,\n      height = _ref3.height,\n      width = _ref3.width;\n\n  if (!masks || Object.keys(masks).length === 0) {\n    return;\n  }\n\n  for (var _i2 = 0, _Object$entries2 = Object.entries(masks); _i2 < _Object$entries2.length; _i2++) {\n    var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n        maskId = _Object$entries2$_i[0],\n        maskDefinition = _Object$entries2$_i[1];\n\n    var mask = createNode('mask');\n    setAttribute(mask, 'id', maskId);\n    var maskedRect = createNode('rect'); // Extend mask beyond container to ensure it completely covers the model.\n    // The model can extend beyond the container as well.\n\n    setAttribute(maskedRect, 'width', width * 1.5);\n    setAttribute(maskedRect, 'height', height * 1.5);\n    setAttribute(maskedRect, 'x', \"-\".concat(Math.floor(width / 4)));\n    setAttribute(maskedRect, 'y', \"-\".concat(Math.floor(height / 4)));\n    setAttribute(maskedRect, 'fill', maskDefinition.color);\n    mask.appendChild(maskedRect);\n    container.appendChild(mask);\n  }\n}","module.exports = invert;\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15],\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n      // Calculate the determinant\n  det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n\n;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","module.exports = rotate;\n/**\n * Rotates a mat4 by the given angle\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2],\n      len = Math.sqrt(x * x + y * y + z * z),\n      s,\n      c,\n      t,\n      a00,\n      a01,\n      a02,\n      a03,\n      a10,\n      a11,\n      a12,\n      a13,\n      a20,\n      a21,\n      a22,\n      a23,\n      b00,\n      b01,\n      b02,\n      b10,\n      b11,\n      b12,\n      b20,\n      b21,\n      b22;\n\n  if (Math.abs(len) < 0.000001) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n\n;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","module.exports = transformMat4;\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}"],"sourceRoot":""}